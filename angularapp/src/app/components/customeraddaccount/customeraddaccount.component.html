<div class="container">
  <button class="back-button" (click)="closeForm()">Back</button>
  <h1>Create New Account</h1>
  <form #accountForm="ngForm" (submit)="createAccount(accountForm)">
    <!-- Account Holder Name -->
    <div class="form-group">
      <label for="accountHolderName">Account Holder Name:</label>
      <input
        id="accountHolderName"
        type="text"
        name="AccountHolderName"
        [(ngModel)]="account.AccountHolderName"
        required
        #accountHolderName="ngModel"
      />
      <p class="error-message" *ngIf="accountHolderName.touched && accountHolderName.invalid">
        Account Holder Name is required.
      </p>
    </div>

    <!-- User ID -->
    <div class="form-group">
      <label for="userId">User ID:</label>
      <input
        id="userId"
        type="number"
        name="UserId"
        [(ngModel)]="account.UserId"
        required
        #userId="ngModel"
      />
      <p class="error-message" *ngIf="userId.touched && userId.invalid">
        User ID is required.
      </p>
    </div>

    <!-- Account Type -->
    <div class="form-group">
      <label for="accountType">Account Type:</label>
      <select
        id="accountType"
        name="AccountType"
        [(ngModel)]="account.AccountType"
        required
        #accountType="ngModel"
      >
        <option value="" disabled>Select Account Type</option>
        <option *ngFor="let type of accountTypes" [value]="type">{{ type }}</option>
      </select>
      <p class="error-message" *ngIf="accountType.touched && accountType.invalid">
        Account Type is required.
      </p>
    </div>

    <!-- Balance -->
    <div class="form-group">
      <label for="balance">Initial Balance:</label>
      <input
        id="balance"
        type="number"
        name="Balance"
        [(ngModel)]="account.Balance"
        required
        min="1000"
        #balance="ngModel"
      />
      <p class="error-message" *ngIf="balance.touched && balance.invalid">
        <span *ngIf="balance.errors?.required">Initial Balance is required.</span>
        <span *ngIf="balance.errors?.min">Initial Balance must be greater than or equal to 1000.</span>
      </p>
    </div>

    <!-- Proof of Identity -->
    <div class="form-group">
      <label for="proofOfIdentity">Proof of Identity:</label>
      <input
        id="proofOfIdentity"
        type="file"
        (change)="onFileSelected($event)"
        required
      />
      <p class="error-message" *ngIf="!selectedFile">
        Proof of Identity is required.
      </p>
    </div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="submit-button"
      [disabled]="accountForm.invalid"
    >
      Create Account
    </button>
  </form>

  <!-- Popup -->
  <div *ngIf="showPopup" class="popup">
    <div class="popup-content">
      <h2>Success</h2>
      <p>{{ successMessage }}</p>
      <button (click)="closePopup()">OK</button>
    </div>
  </div>
</div>
